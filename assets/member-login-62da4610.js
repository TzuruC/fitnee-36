import{a as s}from"./auth-99677de4.js";import"./animation-2ea199e6.js";import{a as u}from"./config-afd6d7d3.js";const m=document.querySelector("#loginBtn"),a=document.querySelector("#loginPsw"),f=document.querySelector("#loginMail");function g(){a.value=""}g();let i={};m.addEventListener("click",function(c){c.preventDefault();let t="",o="",n="",l="";i={email:f.value,password:a.value,role:"user"},axios.post(`${u}/login`,i).then(function(e){t=e.data.accessToken,o=e.data.user.id,n=e.data.user.role,l=e.data.user.name,t?(localStorage.setItem("userLoginToken",t),localStorage.setItem("userRole",n),localStorage.setItem("userId",o),localStorage.setItem("userName",l),s.fire({title:"登入成功！",icon:"success",confirmButtonText:"確認",buttonsStyling:!1,customClass:{confirmButton:"btn btn-success py-3 px-10"}}).then(r=>{r.isConfirmed&&(window.location.href="index.html")})):(console.log("帳號或密碼錯誤"),s.fire({title:"帳號或密碼錯誤",icon:"warning",confirmButtonText:"確認",buttonsStyling:!1,customClass:{confirmButton:"btn btn-success py-3 px-10"}}))}).catch(function(e){console.log(e)})});
