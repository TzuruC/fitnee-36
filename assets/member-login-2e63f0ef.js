import{S as a}from"./main-aa134d7c.js";import"./animation-2ea199e6.js";import{a as s}from"./config-afd6d7d3.js";const c=document.querySelector("#loginBtn"),n=document.querySelector("#loginPsw"),u=document.querySelector("#loginMail");document.querySelector("#alertEmail");document.querySelector("#alertPsw");function d(){n.value=""}d();c.addEventListener("click",function(i){i.preventDefault();let o="",t="",l="";const r={email:u,password:n,role:"user"};axios.post(`${s}/login`,r).then(function(e){o=e.data.accessToken,t=e.data.user.id,l=e.data.user.role,o?(localStorage.setItem("vistaLoginToken",o),localStorage.setItem("userRole",l),localStorage.setItem("userId",t),a.fire({title:"登入成功！",icon:"success"}),window.location.href="index.html"):console.log("帳號或密碼錯誤")}).catch(function(e){console.log(e.response.data)})});
