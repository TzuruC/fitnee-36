import{S as s}from"./main-aa134d7c.js";import"./animation-2ea199e6.js";import{a as c}from"./config-afd6d7d3.js";const u=document.querySelector("#loginBtn"),i=document.querySelector("#loginPsw"),m=document.querySelector("#loginMail");function f(){i.value=""}f();let l={};u.addEventListener("click",function(a){a.preventDefault();let t="",o="",n="";l={email:m.value,password:i.value,role:"user"},axios.post(`${c}/login`,l).then(function(e){t=e.data.accessToken,o=e.data.user.id,n=e.data.user.role,userName=e.data.user.name,t?(localStorage.setItem("userLoginToken",t),localStorage.setItem("userRole",n),localStorage.setItem("userId",o),localStorage.setItem("userName",userName),s.fire({title:"登入成功！",icon:"success",confirmButtonText:"確認",buttonsStyling:!1,customClass:{confirmButton:"btn btn-success py-3 px-10"}}).then(r=>{r.isConfirmed&&(window.location.href="index.html")})):(console.log("帳號或密碼錯誤"),s.fire({title:"帳號或密碼錯誤",icon:"warning",confirmButtonText:"確認",buttonsStyling:!1,customClass:{confirmButton:"btn btn-success py-3 px-10"}}))}).catch(function(e){console.log(e.response.data)})});
