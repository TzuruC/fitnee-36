import"../auth-0f4bca45.js";import{a as s}from"../config-f552c1ba.js";const c=document.querySelector(".loginBtn"),i=document.querySelector(".loginPsw"),u=document.querySelector(".loginMail");function m(){i.value=""}m();let a={};c.addEventListener("click",function(r){r.preventDefault();let o="",l="",t="",n="";a={email:u.value,password:i.value,role:"admin"},axios.post(`${s}/login`,a).then(function(e){o=e.data.accessToken,l=e.data.user.id,t=e.data.user.role,n=e.data.user.name,console.log(e),o&&t==="admin"?(localStorage.setItem("userLoginToken",o),localStorage.setItem("userRole",t),localStorage.setItem("userName",n),localStorage.setItem("userId",l),alert("登入成功!"),window.location.href="admin-article-list.html"):o&&t!=="admin"?alert("您沒有權限進入!"):console.log("帳號或密碼錯誤")}).catch(function(e){console.log(e)})});
